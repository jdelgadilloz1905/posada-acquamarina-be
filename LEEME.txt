â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                      â•‘
â•‘         ğŸ¨ BACKEND HOTEL ACQUAMARINA - SISTEMA DE RESERVAS          â•‘
â•‘                                                                      â•‘
â•‘                    âœ… PROYECTO 100% COMPLETO                        â•‘
â•‘                                                                      â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


ğŸ“‹ INICIO RÃPIDO (1 MINUTO)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ³ CON DOCKER (RECOMENDADO - MÃS FÃCIL):
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  1. AsegÃºrate de que Docker Desktop estÃ© corriendo
  2. Doble clic en: start-dev.bat

  Â¡Listo! El servidor estarÃ¡ en http://localhost:3000

  Ver mÃ¡s: DOCKER.md


ğŸ’» SIN DOCKER (PostgreSQL Local):
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  1. Crear base de datos: CREATE DATABASE hotel_acquamarina;
  2. Ejecutar: npm run start:dev

  El servidor estarÃ¡ en http://localhost:3000


ğŸ¯ LO QUE INCLUYE ESTE BACKEND
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… AutenticaciÃ³n JWT (registro, login, perfiles)
âœ… GestiÃ³n de Usuarios (admin y clientes)
âœ… GestiÃ³n de Habitaciones (CRUD completo)
âœ… Sistema de Reservas (crear, listar, actualizar, cancelar)
âœ… ValidaciÃ³n automÃ¡tica de disponibilidad
âœ… CÃ¡lculo automÃ¡tico de precios (noches Ã— precio)
âœ… Base de datos PostgreSQL con TypeORM
âœ… Validaciones con class-validator
âœ… CORS configurado para frontend
âœ… TypeScript completo


ğŸ“š DOCUMENTACIÃ“N DISPONIBLE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“„ INICIO_RAPIDO.md       â†’ GuÃ­a de inicio rÃ¡pido
ğŸ“„ README.md              â†’ DocumentaciÃ³n completa de la API
ğŸ“„ DOCKER.md              â†’ ğŸ³ ConfiguraciÃ³n con Docker (Recomendado)
ğŸ“„ SETUP.md               â†’ ConfiguraciÃ³n paso a paso
ğŸ“„ ESTRUCTURA.md          â†’ Arquitectura del proyecto
ğŸ“„ FRONTEND_INTEGRATION.md â†’ CÃ³digo para conectar el frontend
ğŸ“„ ARQUITECTURA.md        â†’ Diagramas y flujos del sistema
ğŸ“„ COMANDOS.md            â†’ Referencia rÃ¡pida de comandos
ğŸ“„ api-examples.http      â†’ Ejemplos de peticiones HTTP


ğŸ”Œ ENDPOINTS PRINCIPALES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ” AutenticaciÃ³n:
   POST   /auth/register          â†’ Registrarse
   POST   /auth/login             â†’ Iniciar sesiÃ³n
   GET    /auth/me                â†’ Ver perfil (requiere token)

ğŸ¨ Habitaciones:
   GET    /rooms                  â†’ Listar todas
   GET    /rooms/available        â†’ Habitaciones disponibles
   POST   /rooms                  â†’ Crear (admin)
   PATCH  /rooms/:id              â†’ Actualizar (admin)
   DELETE /rooms/:id              â†’ Eliminar (admin)

ğŸ“… Reservas:
   POST   /reservations           â†’ Crear reserva
   GET    /reservations           â†’ Listar (filtrado por rol)
   GET    /reservations/my-reservations â†’ Mis reservas
   PATCH  /reservations/:id/confirm    â†’ Confirmar
   PATCH  /reservations/:id/cancel     â†’ Cancelar
   DELETE /reservations/:id            â†’ Eliminar


ğŸ¨ INTEGRACIÃ“N CON TU FORMULARIO DEL FRONTEND
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Endpoint: POST http://localhost:3000/reservations

Datos a enviar:
{
  "checkInDate": "2025-02-15",      â† Fecha de llegada
  "checkOutDate": "2025-02-20",     â† Fecha de salida
  "numberOfAdults": 2,               â† Adultos (dropdown)
  "numberOfChildren": 1,             â† NiÃ±os (dropdown)
  "guestName": "Juan PÃ©rez",         â† Nombre completo
  "guestEmail": "juan@email.com",    â† Correo electrÃ³nico
  "guestPhone": "+58 414 123 4567",  â† TelÃ©fono
  "specialRequests": "...",          â† Solicitudes especiales
  "roomId": "uuid-habitacion"        â† ID de la habitaciÃ³n
}

El backend valida automÃ¡ticamente:
âœ… Fechas vÃ¡lidas
âœ… Disponibilidad de la habitaciÃ³n
âœ… Calcula el precio total automÃ¡ticamente

Ver ejemplos completos en: FRONTEND_INTEGRATION.md


ğŸ“¦ SCRIPTS DISPONIBLES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ³ Docker (Windows .bat):
   start-dev.bat       â†’ Inicia Docker + NestJS automÃ¡ticamente
   docker-start.bat    â†’ Solo iniciar PostgreSQL
   docker-stop.bat     â†’ Detener PostgreSQL
   docker-logs.bat     â†’ Ver logs de la BD
   docker-restart.bat  â†’ Reiniciar PostgreSQL

ğŸ’» NPM:
   npm run start:dev   â†’ Desarrollo (con hot-reload)
   npm run build       â†’ Compilar
   npm run start:prod  â†’ ProducciÃ³n


ğŸ”§ TECNOLOGÃAS UTILIZADAS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Backend:
  â€¢ NestJS 11.x         â†’ Framework
  â€¢ TypeScript 5.x      â†’ Lenguaje
  â€¢ Express             â†’ HTTP Server

Base de Datos:
  â€¢ PostgreSQL 15       â†’ Base de datos
  â€¢ TypeORM 0.3.x       â†’ ORM

AutenticaciÃ³n:
  â€¢ Passport + JWT      â†’ AutenticaciÃ³n
  â€¢ Bcrypt              â†’ Hash de contraseÃ±as

ValidaciÃ³n:
  â€¢ Class Validator     â†’ Validaciones
  â€¢ Class Transformer   â†’ Transformaciones


ğŸ“Š ESTRUCTURA DE LA BASE DE DATOS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

3 Tablas principales:

ğŸ“‹ users          â†’ Usuarios (admin y clientes)
ğŸ¨ rooms          â†’ Habitaciones del hotel
ğŸ“… reservations   â†’ Reservas de habitaciones

Relaciones:
  User (1) â”€â”€< Reservations (N)
  Room (1) â”€â”€< Reservations (N)

Las tablas se crean automÃ¡ticamente al iniciar el servidor.


ğŸš€ PASOS SIGUIENTES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. âœ… Iniciar el servidor (start-dev.bat o npm run start:dev)
2. ğŸ“ Crear usuario admin (ver ejemplos en SETUP.md)
3. ğŸ¨ Crear habitaciones (ver ejemplos en api-examples.http)
4. ğŸ¨ Conectar el frontend (ver FRONTEND_INTEGRATION.md)
5. ğŸ§ª Probar las reservas


â“ AYUDA Y SOPORTE
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âš ï¸ Problema con Docker?
   â†’ Ver DOCKER.md secciÃ³n "SoluciÃ³n de Problemas"

âš ï¸ No puede conectar a la BD?
   â†’ Verifica que Docker Desktop estÃ© corriendo
   â†’ O que PostgreSQL local estÃ© activo

âš ï¸ Error de CORS desde el frontend?
   â†’ Actualiza FRONTEND_URL en .env
   â†’ Reinicia el servidor

Para mÃ¡s ayuda, revisa los archivos de documentaciÃ³n.


ğŸ“ NOTAS IMPORTANTES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â€¢ Este proyecto estÃ¡ configurado para DESARROLLO local
â€¢ En producciÃ³n, cambiar las credenciales del .env
â€¢ Docker guarda los datos en volÃºmenes (persisten entre reinicios)
â€¢ El servidor tiene hot-reload (se actualiza automÃ¡ticamente)
â€¢ Todas las contraseÃ±as se hashean con bcrypt
â€¢ Los tokens JWT expiran en 7 dÃ­as por defecto


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

        ğŸ‰ Â¡El backend estÃ¡ 100% listo para usar! ğŸ‰

        Para cualquier duda, revisa la documentaciÃ³n en los
        archivos .md o contacta al equipo de desarrollo.

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
